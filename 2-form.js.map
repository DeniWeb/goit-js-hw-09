{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = { form: document.querySelector('.feedback-form') };\n\nrefs.form.addEventListener('input', e => {\n    formData.email = e.currentTarget.elements.email.value.trim();\n    formData.message = e.currentTarget.elements.message.value.trim();\n    saveToLS(STORAGE_KEY, formData);\n});\n\nfunction initPage() {\n    const savedData = loadFromLS(STORAGE_KEY);\n    if (savedData) {\n        refs.form.elements.email.value = savedData.email || '';\n        refs.form.elements.message.value = savedData.message || '';\n    }\n}\n\ninitPage();\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    if (!formData.email || !formData.message) {\n        alert('Fill please all fields');\n        return;\n    }\n\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = '';\n    formData.message = '';\n    refs.form.reset();\n});\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return data;\n    } catch {\n        return body;\n    }\n}\n"],"names":["formData","STORAGE_KEY","refs","saveToLS","initPage","savedData","loadFromLS","key","value","jsonData","body"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBAEdC,EAAO,CAAE,KAAM,SAAS,cAAc,gBAAgB,CAAC,EAE7DA,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACrCF,EAAS,MAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OACtDA,EAAS,QAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAC1DG,EAASF,EAAaD,CAAQ,CAClC,CAAC,EAED,SAASI,GAAW,CAChB,MAAMC,EAAYC,EAAWL,CAAW,EACpCI,IACAH,EAAK,KAAK,SAAS,MAAM,MAAQG,EAAU,OAAS,GACpDH,EAAK,KAAK,SAAS,QAAQ,MAAQG,EAAU,SAAW,GAEhE,CAEAD,IAEAF,EAAK,KAAK,iBAAiB,SAAU,GAAK,CAEtC,GADA,EAAE,eAAc,EACZ,CAACF,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnCD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBE,EAAK,KAAK,OACd,CAAC,EAED,SAASC,EAASI,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAK,CACrB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMG,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL"}